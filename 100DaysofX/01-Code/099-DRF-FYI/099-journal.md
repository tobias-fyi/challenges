# 2019-06-10 | #100DaysofCode

    GOAL-06-10 ~ Fineyedesign, Phase I, v0.1  

## Day 099/100 | 161/365

- [2019-06-10 | #100DaysofCode](#2019-06-10--100daysofcode)
  - [Day 099/100 | 161/365](#day-099100--161365)
    - [13:15 ~ DeepWork.init](#1315--deepworkinit)
    - [14:32 ~ Bezel Browsing](#1432--bezel-browsing)
    - [15:01 ~ More Branding Blendure](#1501--more-branding-blendure)
    - [22:15 -+- fineyedesign.com.init](#2215----fineyedesigncominit)
    - [23:07 ~ Django Recoct Fritiniency](#2307--django-recoct-fritiniency)
      - [Abbreviation Game - DRF](#abbreviation-game---drf)
      - [Abbrev Game - REST](#abbrev-game---rest)
      - [IDEA-161 : Keyboard Shortcut of the Day](#idea-161--keyboard-shortcut-of-the-day)
    - [23:23 ~ REST Up Set Up](#2323--rest-up-set-up)
      - [23:33 ~ DateTimeField](#2333--datetimefield)
      - [23:49 ~ Models Be A Changing](#2349--models-be-a-changing)
      - [00:14 ~ LITerary DEVices](#0014--literary-devices)
      - [00:23 ~ Flippitty Fluüpurrddurr](#0023--flippitty-fluüpurrddurr)
      - [IDEA-161 : Tangent Django Model - for small, related ideas that come up while writing](#idea-161--tangent-django-model---for-small-related-ideas-that-come-up-while-writing)
      - [00:43 ~ Null Set Paradiastole](#0043--null-set-paradiastole)
      - [00:50 ~ Nivellate Onwards](#0050--nivellate-onwards)
      - [Abbreviation Game! - ORM](#abbreviation-game---orm)
      - [CUE-161 : Bash List for ALLOWED_HOSTS EnviroVar](#cue-161--bash-list-for-allowed_hosts-envirovar)
    - [01:04 ~ arRESTed Nostomania deVELopMENt](#0104--arrested-nostomania-development)
      - [02:11 ~ Nulliparous Decisionmaking Views](#0211--nulliparous-decisionmaking-views)
      - [02:24 ~ URLs](#0224--urls)
      - [02:29 ~ Server Chaser Race](#0229--server-chaser-race)
    - [02:45 ~ Calling It Gerdoying](#0245--calling-it-gerdoying)

---- Tasks ----

    CUE--161 : Bash List for ALLOWED_HOSTS EnviroVar  
    IDEA-161 : Tangent Django Model - for small, related ideas that come up while writing  
    IDEA-161 : Keyboard Shortcut of the Day  

---- Notes ----

    IDEA-161 : Underthink, Overcommunicate, and Deliver  
    CUE--043 : Auto-post quotes from journal to pub app - Check out Flashbake  

---- Resources ----

- Django Rest Framework
  - [Hyperlinked & Friends](https://www.django-rest-framework.org/tutorial/5-relationships-and-hyperlinked-apis/#making-sure-our-url-patterns-are-named)
  - [Companion site to CCBV = CDRF](http://www.cdrf.co/3.0/rest_framework.serializers/HyperlinkedModelSerializer.html)
  - [RealPython article on DRF](https://realpython.com/django-rest-framework-quick-start/)
  - [DRF - on using id with hyperlinked](https://stackoverflow.com/questions/51946916/how-to-add-id-to-the-fields-in-hyperlinkedmodelserializer-in-drf)
  - [DRF - on the benefits of using Hyperlinked](https://stackoverflow.com/questions/33421147/what-is-the-benefit-of-using-a-hyperlinkedmodelserializer-in-drf)
  - [DRF Docs section on (Hyperlinked)Serializers](https://www.django-rest-framework.org/api-guide/serializers/#hyperlinkedmodelserializer)
  - [Quickstart Tutorial on the DRF Site](https://www.django-rest-framework.org/tutorial/quickstart/)
- [Django Model Field Reference](https://docs.djangoproject.com/en/2.2/ref/models/fields/#datefield)
- [WSVincent Django Rest Blog API](https://wsvincent.com/django-rest-framework-tutorial/)
- [DRF tutorial from Sunscrapers](https://sunscrapers.com/blog/ultimate-tutorial-django-rest-framework-part-1/)
- [lit_dev](https://literarydevices.net/)
- Also, more [lit_dev](https://literary-devices.com/content/hyperbaton/)

---- Selects ----

- [FlashBake](https://craphound.com/news/2009/02/13/flashbake-free-version-control-for-writers-using-git/)
- Link that AJ has up about learning some more [advanced html and css](https://learn.shayhowe.com/advanced-html-css/performance-organization/). 
- List of [brand styleguide examples](https://saijogeorge.com/brand-style-guide-examples/)
- [Optimizing images for web](https://www.abetterlemonadestand.com/optimizing-images-for-web/)
- [Everland](https://www.everland.co/)
- [ProgrammableWeb Urban Dictionary API](https://www.programmableweb.com/api/urbandictionary)

---- Sojourn ----

### 13:15 ~ DeepWork.init

I'm thinking about implementing the site via an HTML5Up template for the initial build, to save on time with the little design details. I would have to attribute the creator if I didn't pay for the template. I could pay $20 for access to all of the templates, which I could use for other projects as well. However, that wouldn't necessarily make me a better designer. Instead, I think I'll look at the source code and use it as inspiration. It would defeat the whole purpose of this project to copy things directly.

Though if it comes down to it, I wouldn't mind adding a line to the bottom saying where I got the inspiration / structure from.

---- ∫ ----

If anything is going to cause me to not have it done in time, it's those goshdurndaggit design details. However, doing it more will help me get better at it. If anything it will teach me how to not get stuck in the weeds. Here are a list of the templates I think would work well - all will be initially downloaded to `fineyedesign/docs/assets/code/templates`:

[Stellar](https://html5up.net/stellar)  
This would be a good one for the vertical panos—I've thought about doing a design where the content is superimposed overtop of the vertical pano, which acts as the background for the article. Now that I think about that more, I'm fairly certain that is the initial direction I'll go.

[Future Imperfect](https://html5up.net/future-imperfect)  
This one has nice spacing for the home page and articles. Simple and clean, though also not particularly exciting.

[Photon](https://html5up.net/photon)  
Nice static background and design elements. With a little tweaking in the right places, it could be spactacularly beautiful. Plus, it has all the basic functionality I'm looking for already designed into the template.

[Highlights](https://html5up.net/highlights)  
Though not meant for an article-type of site, it would look real nice with the content laid overtop a pano.

[Read Only](https://html5up.net/read-only)  
This one would be great for a timeline type of design. It would also be pretty sweet to have each page be its own self-contained single page menu layout, with the headings accessible via the sidebar.

[Alpha](https://html5up.net/alpha)
[Twenty](https://html5up.net/twenty)

[Overflow](https://html5up.net/overflow) is a maybe, though I want to check out the code simply because it's an interesting design.

The creator of all of these has in one of them that he builds these to keep his design and coding skills fresh and the knowledge active. That's basically what I was just saying.

[Parallellism](https://html5up.net/parallelism) is dope because it has the horizontal scrolling. I think I can draw a lot of original ideas from something like it. Instead of having a bunch of photos to scroll through horizontally, have one giant pano. Then the article below that.

And according to Pixelarity (his paid service) I only have to pay once to get all the current downloads. If I don't renew, I still would have unlimited attribution-free access to the ones I downloaded, but would've get support or any new ones.

- Link that AJ has up about learning some more [advanced html and css](https://learn.shayhowe.com/advanced-html-css/performance-organization/). 
- List of [brand styleguide examples.](https://saijogeorge.com/brand-style-guide-examples/)
- [Optimizing images](https://www.abetterlemonadestand.com/optimizing-images-for-web/)

---

### 14:32 ~ Bezel Browsing

Bezel: oblique side or face of a cut gem.

Time to take a look through the templates and see what inspiration comes my way - I'm feeling the need to narrow down my selection...

- Sure
  - Overflow
  - Parallelism
  - Stellar
  - Prologue

Ok! That was actually rather easy...now I want to pick out the elements of each that I really like.

I picked Stellar because of my idea to have the parallelopan as a background with the content overlayed on top. This design implements that idea nicely, though not exactly in the way that I want. If I could implement an instance of the horizontally-scrollable pano above the content overlay / top of the page, that would be pretty frükgstein epic.

I'm actually going to nix the Prologue choice. I don't think that type of sidebar is really what I'm going for.

That leaves me with integrating Overflow into it. I already know that I want to take certain elements fron overflow and use them within the content overlay to help break things up and such.

- Stellar
- Overflow
- Parallelism

---

### 15:01 ~ More Branding Blendure

Blendure: mixing.

Decided I need to add one or two more colors to the fyi palette.

---

### 22:15 -+- fineyedesign.com.init

Ran into a bug in the fyinit program. The way I set it up, the code assumes that I'm starting from the root of the Fineyedesign workspace, as it uses the root of wherever the program was initiated in order to try and locate the .vscode / .code-workspace. I'll have to fix that at some point.

      File "/Users/Tobias/workshop/Fineyedesign/08-Projects/fyinit/fyinit.py", line 203, in cli
        os.chdir(os.path.join(paths["base"], ".vscode"))
    FileNotFoundError: [Errno 2] No such file or directory: '/Users/Tobias/workshop/Fineyedesign/08-Projects/fineyedesign/.vscode'

I decided that I want to turn the fineyedesign project into a RESTful API in order to build a front-end using React. To get the Django side of things working I'm going to use Will Vincent's Tutorial - [the one in which he builds a blog](https://wsvincent.com/django-rest-framework-tutorial/). Then I will transition perfectly into Level 2 React from Level Up Tutorials. Solid plan, yo!

Here's another seemingly good [tutorial on DRF from Sunscrapers.](https://sunscrapers.com/blog/ultimate-tutorial-django-rest-framework-part-1/). [Here's another one from UseJournal](https://blog.usejournal.com/tutorial-9-introduction-to-django-rest-framework-and-writing-serializers-for-blog-management-17d2ed2c209e), though it's on Medium so I may not be able to access all the parts with a free account. Here's the [Quickstart Tutorial on the DRF Site.](https://www.django-rest-framework.org/tutorial/quickstart/)

---

### 23:07 ~ Django Recoct Fritiniency

#### Abbreviation Game - DRF

Dithyrambic: passionate; ecstatic; frenzied.
Rejoinder: sharp and clever answer.
Fritiniency: the noise of insects.

Diestrus: period of sexual inactivity.
Recoct: to cook again; to concoct; to improvise.
Frazil: ground-ice; ice in small spikes in streams.

[ProgrammableWeb Urban Dictionary API](https://www.programmableweb.com/api/urbandictionary).

#### Abbrev Game - REST

It's time to work out them Abbs!

#### IDEA-161 : Keyboard Shortcut of the Day  

---

### 23:23 ~ REST Up Set Up

This tutorial has a slightly different model compared to what I defined yesterday. I'm not going to make it exactly the same for reasons explained previously. Infact, I'm going to add more fields onto both.

#### 23:33 ~ DateTimeField

I wanted to read up on the difference is between the DateTimeField options `timezone.now` and `auto_now_add`, as I used the former in my last project. The purpose of using `timezone.now` is if I want the date / time to be editable.

I did, in fact, want the field to be editable in my last project. However, this time I want it to be a legitimate timestamp. Ergo - not editable.

A note from the [Django Model Field Reference](https://docs.djangoproject.com/en/2.2/ref/models/fields/#datefield) says...

    Ass currently implemented, setting auto_now or auto_now_add to True will cause the field to have editable=False and blank=True set.

And furthermore (just fyi):

    The auto_now and auto_now_add options will always use the date in the default timezone at the moment of creation or update.

This is another thing I wanted to find out. So thanks, Django Docs! The default time zone is defined by the `TIME_ZONE` setting...which, for this project and most of my other ones, is `TIME_ZONE = "America/Denver"`.

Line 177!

---- ∫ ----

- Motif
  - a usually recurring salient thematic element
  - a dominant idea or central theme
  - a single or repeated design or color
- Salient
  - moving by leaps or springs
  - jetting upward
  - projecting beyond a line, surface, or level
    - standing out conspicuously; of notable significance

Going to add a `motif` field to the model, which will be the main themes or concepts in the `Rep`.

I was going to put in a Day # field that holds what day of the challenge this Rep was created for. However, I can make a simple calculation on any view to get that number. Not going to worry about it now.

Given that I'm changing up the model, I'm going to delete the data that I put in yesterday...unless I'd like to find out what happens when the model changes with existing data. I do. I do want to know. Or, I'd like to know.

Now my `models.py` looks like this:

```python
from django.db import models

class Rep(models.Model):  # A rep like doing reps at the gym or building reputation
    title = models.CharField(max_length=200)
    author = models.ForeignKey("auth.User", on_delete=models.CASCADE)
    body = models.TextField()
    motif = models.CharField()
    created = models.DateTimeField(auto_now_add=True)
    updated = models.DateTimeField(auto_now=True)

    def __str__(self):
        return self.title
```

#### 23:49 ~ Models Be A Changing

Time to find out how Django likes model changes with existing data. I mean I've done it plenty of times, but want to again for the hex of it. I believe it will throw that warning about the default values...

Well, it threw an error saying that CharField needs the `max_length` attribute. Fixed it; trying again.

```python
motif = models.CharField(max_length=100)
```

So I was correct that it gave me the default warning / options. Took me a few tries...

    ╭─ Fineyedesign » tobiasfyi » ..cts/fineyedesign »  master ● ?  19.06.10 ∫ 23:52:34
    ╰─ python manage.py makemigrations
    You are trying to add the field 'created' with 'auto_now_add=True' to rep without a default; the database needs something to populate existing rows.
    1) Provide a one-off default now (will be set on all existing rows)
    2) Quit, and let me add a default in models.py
    Select an option: 1
    Please enter the default value now, as valid Python
    You can accept the default 'timezone.now' by pressing 'Enter' or you can provide another value.
    The datetime and django.utils.timezone modules are available, so you can do e.g. timezone.now
    Type 'exit' to exit this prompt
    [default: timezone.now] >>>
    You are trying to add a non-nullable field 'motif' to rep without a default; ...
    ...
    Select an option: 1
    ...
    >>> Retrophilia
    Invalid input: name 'Retrophilia' is not defined
    >>> "Retrophilia"
    Migrations for 'sojourn':
      sojourn/migrations/0002_auto_20190611_2354.py
        - Add field created to rep
        - Add field motif to rep
        - Add field updated to rep

Here's what the SQL query looks like:

    ╭─ Fineyedesign » tobiasfyi » ..cts/fineyedesign »  master ● ?         19.06.10 ∫ 23:56:12
    ╰─ python manage.py sqlmigrate sojourn 0002

```sql
BEGIN;
--
-- Add field created to rep
ALTER TABLE "sojourn_rep" ADD COLUMN "created" timestamp with time zone DEFAULT '2019-06-11T05:56:37.547670+00:00'::timestamptz NOT NULL;
ALTER TABLE "sojourn_rep" ALTER COLUMN "created" DROP DEFAULT;
--
-- Add field motif to rep
--
ALTER TABLE "sojourn_rep" ADD COLUMN "motif" varchar(100) DEFAULT 'Retrophilia' NOT NULL;
ALTER TABLE "sojourn_rep" ALTER COLUMN "motif" DROP DEFAULT;
--
-- Add field updated to rep
--
ALTER TABLE "sojourn_rep" ADD COLUMN "updated" timestamp with time zone DEFAULT '2019-06-11T05:56:37.572982+00:00'::timestamptz NOT NULL;
ALTER TABLE "sojourn_rep" ALTER COLUMN "updated" DROP DEFAULT;
COMMIT;
```

Time to migrate that beeeezy!

    ╭─ Fineyedesign » tobiasfyi » ..cts/fineyedesign »  master ● ?         19.06.10 ∫ 23:58:00
    ╰─ python manage.py migrate
    Operations to perform:
      Apply all migrations: admin, auth, contenttypes, sessions, sojourn
    Running migrations:
      Applying sojourn.0002_auto_20190611_2354... OK

We *groovin!*

---- ∫ ----

Doing a little test of my graphics card with Firefox and an external monitor again. I don't know if I've ever tried placing the Firefox window on the 1080p monitor. It didn't like being on the 4k one, but this one seems to be doing fine.

Got the dev server up and running, and my computer hasn't gone above 150˚ yet. That's a good siggy sign.

---- ∫ ----

#### 00:14 ~ LITerary DEVices

Iama LIT_DEV

Adding in some new content via the admin page...I did two more Reps, to be precise.

I decided, in true floppitty flüoppurrty durpdurr fashion, to add another field to the model...while adding one final Rep before moving on, I came upon the idea of a `literary device`. A device for becoming LIT.

I'm glad I though about such devices, because I believe being forced to use one in every piece—and, more importantly, be intentional and conscious of which ones I'm implementing—will be a great learning tool for me...I'm all about that learning ish.

---- ∫ ----

Ayyye I just realized that I got an error when posting that last Rep. Looks pretty gnar gnar.

    Traceback (most recent call last):
      ...
      File "/Users/Tobias/.pyenv/versions/3.7.3/lib/python3.7/socketserver.py", line 799, in write
        self._sock.sendall(b)
    OSError: [Errno 41] Protocol wrong type for socket
    [11/Jun/2019 00:17:12] "GET /favicon.ico HTTP/1.1" 500 59
    ----------------------------------------
    Exception happened during processing of request from ('127.0.0.1', 56078)
    Traceback (most recent call last):
      ...
    OSError: [Errno 41] Protocol wrong type for socket
    ...
      ...
      File "/Users/Tobias/.pyenv/versions/3.7.3/lib/python3.7/wsgiref/handlers.py", line 344, in client_is_modern
        return self.environ['SERVER_PROTOCOL'].upper() != 'HTTP/0.9'
    TypeError: 'NoneType' object is not subscriptable
    ...
      ...
      File "/Users/Tobias/.pyenv/versions/3.7.3/lib/python3.7/wsgiref/simple_server.py", line 35, in close
        self.status.split(' ',1)[0], self.bytes_sent
    AttributeError: 'NoneType' object has no attribute 'split'
    ----------------------------------------

I wonder if it has to do with the weird characters I used. Or, though I doubt it, it was because I used the work split.

Hmm...I added back in the ü and left the split in - it saved without error...weird.

#### 00:23 ~ Flippitty Fluüpurrddurr

Now time to add the field to the model and re-migrate that ish.

[lit_dev](https://literarydevices.net/)

Literary Device: typical structures used by writers in their works to convey his or her messages in a simple manner to the readers.

---- ∫ ----

My old MacBook started chugging as it does every once and a while. I looked up what the `systemstats` process is doing, as it is the culprit. I thought it may be some crypto-mining thing or other. But it seems [rather harmless](http://osxdaily.com/2014/02/27/systemstats-cpu-use-slow-mac-os-x/). I'm going to try shutting that process down. Maybe stop using the iStat menu on that computer.

And *holy shit!* I just looked, and uTorrent has logged 348:08:29:38, which I'm assuming means it's been running for almost an entire year without rest.

I'm going to shut that computer down for a bit.

Damn...that uTorrent tho. Taking forever to shut down. Makes sense. I feel ü(torrent).

Ended up having to force quit tho...poor guy. Finally died and is resting now. May it REST (hehe) in piece(s).

---- ∫ ----

#### IDEA-161 : Tangent Django Model - for small, related ideas that come up while writing  

---- ∫ ----

#### 00:43 ~ Null Set Paradiastole

Paradiastole: description of an unfavorable quality through a favourable synonym.

While adding the `let_dev` field to the model, I got a little carried away on a tangent and ended up creating a `Tangent` model as well. I also wanted to try using the SET_NULL for the foreign keys. That way if I accidentally delete my user or something, the data will hopefully still exist.

That good ol'...

```sql
DROP USER iqms CASCADE;
```

Ahhhh the good times. Some good ol' times, to be shüre. Here are the new models:

```python
class Rep(models.Model):  # A rep like doing reps at the gym or building reputation
    title = models.CharField(max_length=200)
    author = models.ForeignKey("auth.User", null=True, on_delete=models.SET_NULL)
    body = models.TextField()
    motif = models.CharField(max_length=100)
    lit_dev = models.CharField(max_length=100)
    created = models.DateTimeField(auto_now_add=True)
    updated = models.DateTimeField(auto_now=True)

    def __str__(self):
        return self.title


class Tangent(models.Model):  # A place for the (un)related ideas that come up while writing
    title = models.CharField(max_length=200)
    rep = models.ForeignKey("Rep", null=True, on_delete=models.SET_NULL)
    body = models.TextField()
    created = models.DateTimeField(auto_now_add=True)
    updated = models.DateTimeField(auto_now=True)

    def __str__(self):
        return self.title
```

It seemed to have worked just fyine...

    ╭─ Fineyedesign » tobiasfyi » ..cts/fineyedesign »  master ● ?         19.06.11 ∫ 00:48:58
    ╰─ python manage.py makemigrations
    You are trying to add a non-nullable field 'lit_dev' to rep without a default; we can't do that (the database needs something to populate existing rows).
    Please select a fix:
    1) Provide a one-off default now (will be set on all existing rows with a null value for this column)
    2) Quit, and let me add a default in models.py
    Select an option: 1
    Please enter the default value now, as valid Python
    The datetime and django.utils.timezone modules are available, so you can do e.g. timezone.now
    Type 'exit' to exit this prompt
    >>> "Hyperbaton"
    Migrations for 'sojourn':
      sojourn/migrations/0003_auto_20190611_0049.py
        - Add field lit_dev to rep
        - Alter field author on rep
        - Create model Tangent

#### 00:50 ~ Nivellate Onwards

Nivellate: to level or plane.

Time to make some more progress, though I really like the Tangent idea. As much as I realize and know that I'm not being super "productive" right now, my mind is coming up with some pretty neat ideas.

I'm definitely embracing it...oh ya! And the literary device field will be a great tool for me to intentionally practice the craft of writing...intentionally.

A good Sojourn is hard to beat!

---- ∫ ----

╭─ Fineyedesign » tobiasfyi » ..cts/fineyedesign »  master ● ?         19.06.11 ∫ 00:52:46
╰─ python manage.py sqlmigrate sojourn 0003

```sql
BEGIN;
--
-- Add field lit_dev to rep
--
ALTER TABLE "sojourn_rep" ADD COLUMN "lit_dev" varchar(100) DEFAULT 'Hyperbaton' NOT NULL;
ALTER TABLE "sojourn_rep" ALTER COLUMN "lit_dev" DROP DEFAULT;
--
-- Alter field author on rep
--
SET CONSTRAINTS "sojourn_rep_author_id_185ecc5b_fk_auth_user_id" IMMEDIATE; ALTER TABLE "sojourn_rep" DROP CONSTRAINT "sojourn_rep_author_id_185ecc5b_fk_auth_user_id";
ALTER TABLE "sojourn_rep" ALTER COLUMN "author_id" DROP NOT NULL;
ALTER TABLE "sojourn_rep" ADD CONSTRAINT "sojourn_rep_author_id_185ecc5b_fk_auth_user_id" FOREIGN KEY ("author_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED;
--
-- Create model Tangent
--
CREATE TABLE "sojourn_tangent" ("id" serial NOT NULL PRIMARY KEY, "title" varchar(200) NOT NULL, "body" text NOT NULL, "created" timestamp with time zone NOT NULL, "updated" timestamp with time zone NOT NULL, "rep_id" integer NULL);
ALTER TABLE "sojourn_tangent" ADD CONSTRAINT "sojourn_tangent_rep_id_cca41605_fk_sojourn_rep_id" FOREIGN KEY ("rep_id") REFERENCES "sojourn_rep" ("id") DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX "sojourn_tangent_rep_id_cca41605" ON "sojourn_tangent" ("rep_id");
COMMIT;
```

That's pretty fresh...ORMs are a wondrous thing.

---- ∫ ----

#### Abbreviation Game! - ORM

Also, more [lit_dev](https://literary-devices.com/content/hyperbaton/).

---- ∫ ----

    ╭─ Fineyedesign » tobiasfyi » ..cts/fineyedesign »  master ● ?         19.06.11 ∫ 00:53:35
    ╰─ python manage.py migrate
    Operations to perform:
      Apply all migrations: admin, auth, contenttypes, sessions, sojourn
    Running migrations:
      Applying sojourn.0003_auto_20190611_0049... OK

Everything seems to be working, though I received another warning...

    ╭─ Fineyedesign » tobiasfyi » ..cts/fineyedesign »  master ● ?         19.06.11 ∫ 00:55:54
    ╰─ python manage.py runserver
    ...
    [11/Jun/2019 00:56:08] "GET /admin/ HTTP/1.1" 200 5744
    [11/Jun/2019 00:56:08] "GET /static/admin/css/base.css HTTP/1.1" 200 8192
    ----------------------------------------
    Exception happened during processing of request from ('127.0.0.1', 58071)
    Traceback (most recent call last):
    ...
    ConnectionResetError: [Errno 54] Connection reset by peer

I wonder if it's the ALLOWED_HOSTS setting...according to the Django Docs:

    When DEBUG is True and ALLOWED_HOSTS is empty, the host is validated against ['localhost', '127.0.0.1', '[::1]'].

I'm not sure how to set up a list with environment variables / bash. I'll hopefully get back to that at some point.

#### CUE-161 : Bash List for ALLOWED_HOSTS EnviroVar  

it's not a fatal error, sooooo....

I'll deal with it laturrrr.

---

### 01:04 ~ arRESTed Nostomania deVELopMENt

Nostomania: abnormal desire to go back to familiar places.

Two main steps to the process of transforming the db models into a RESTful API:

1. Serializer is used to convert the data into JSON
2. View is used to define the specific data to be sent

    ╭─ Fineyedesign » tobiasfyi » ..cts/fineyedesign »  master ● ?         19.06.11 ∫ 01:07:30
    ╰─ pip install djangorestframework
    ...
    Successfully installed djangorestframework-3.9.4

How exciting! Who's a first-timer?

...this guy! Just popped my REST cherry.

Added the framework to `INSTALLED_APPS`...

> fineyedesign/settings.py

```python
INSTALLED_APPS = [
    "django.contrib.admin",
    ...
    "rest_framework",
    "sojourn.apps.SojournConfig",
]
```

Created the serializers module...

    ╭─ Fineyedesign » tobiasfyi » ..cts/fineyedesign »  master ● ?         19.06.11 ∫ 01:12:02
    ╰─ touch sojourn/serializers.py; code $_

Reading up a bit on the different types of serializers, as the two resources I'm reading use two different types. The DRF Official Tutorial uses `HyperlinkedModelSerializer` instead of a `ModelSerializer`. The difference is that the former uses hyperlinks to represent relationships, rather than primary keys.

I probably wouldn't have thought anything of the difference except that fact that the DRF tutorial states...

    Notice that we're using hyperlinked relations in this case with HyperlinkedModelSerializer. You can also use primary key and various other relationships, but hyperlinking is good RESTful design.

So maybe I should just send it and go for the hyperlinked serializer. It seems to be a good way to go. It basically means that instead of an `id` being used for the primary key, the full url will be used, such as `localhost:8000/`

Some good StackOverflow discussions:

- [on using id with hyperlinked](https://stackoverflow.com/questions/51946916/how-to-add-id-to-the-fields-in-hyperlinkedmodelserializer-in-drf)
- [On the benefits of using Hyperlinked](https://stackoverflow.com/questions/33421147/what-is-the-benefit-of-using-a-hyperlinkedmodelserializer-in-drf)
  - This discussion is a little old, but seems to be holding up
  - "The benefit is that you will not have to construct resource URLs in your frontend when you want to retrieve related objects."
    - "Nice answer, I would add just one thing: using hyperlinks in your resources will make it easier for any developer using your web API. If they can see the whole resource URI they won´t need any documentation or other ways to find that out."

I think I'll use the `HyperlinkedModelSerializer`, with the added line to keep the id / pk in the object.

- I also found the companion site to the CCBV one for CBVs, [CDRF](http://www.cdrf.co/3.0/rest_framework.serializers/HyperlinkedModelSerializer.html)
- [And a RealPython article on DRF](https://realpython.com/django-rest-framework-quick-start/)

I'm just going to go for the Hyperlinked and see what happens...meh. Floppity floops I want to get this site up soon. Therefore...flopping flippity back and floppitty forth. The main argument for me using Hyperlinked is that I'll be wanting to use the URL of related objects, for sure.

Going for the Hyperlinked!

According to the [DRF Docs section on (Hyperlinked)Serializers](https://www.django-rest-framework.org/api-guide/serializers/#hyperlinkedmodelserializer) it is possible now to include the pk in the fields as well.

    You can explicitly include the primary key by adding it to the fields option, for example:

    class AccountSerializer(serializers.HyperlinkedModelSerializer):
        class Meta:
            model = Account
            fields = ('url', 'id', 'account_name', 'users', 'created')

...aaaaaand boom goes the dynamite!

> sojourn/serializers.py

```python
from rest_framework import serializers
from . import models


class RepSerializer(serializers.HyperlinkedModelSerializer):
    class Meta:
        model = models.Rep
        fields = ("url", "id", "title", "author", "body", "motif", "lit_dev", "created", "updated")
        id = 

class TangentSerializer(serializers.HyperlinkedModelSerializer):
    class Meta:
        model = models.Tangent
        fields = ("url", "id", "title", "rep", "body", "created", "updated")
```

---- ∫ ----

#### 02:11 ~ Nulliparous Decisionmaking Views

Nulliparous: having not borne children.

After reading up a bit more into the DRF tutorial, I found that the Hyperlinked serializer is used immediately in the Quckstart tutorial, while it takes until Part 5 of the longer tutorial to get to hyperlinks.

One key point I gathered from reading through it is that switching from normal to hyperlinked is not difficult. Therefore, I'm making the decision to start out with the normal version.

But I'm going to give the Hyperlinks a go first, to see what happens. Pushing myself beyond the tutorials is how I'm going to really learn the lessons and understand more about what's going on under the cowl.

---- ∫ ----

Time for some hot and RESTful views action! Gotta add some Tangent data in first....

I should probably register the Tangent model with the admin first.

Ok added two records to the Tangents table. Man I'm going a bit off the rails here. Almost time to call it for the night. Anustarts and An Old Fart...yep. That's where I'm at.

However, I still think it's best to start with only the Rep table. For brevity!

```python
from rest_framework import generics
from .models import Rep
from .serializers import RepSerializer

class RepList(generics.ListAPIView):
    queryset = Rep.objects.all()
    serializer_class = RepSerializer

class RepDetail(generics.RetrieveAPIView):
    queryset = Rep.objects.all()
    serializer_class = RepSerializer
```

They are the same, obviously, except for the generic view being subclassed. The `RetrieveAPIView` is for a single instance of a model.

---- ∫ ----

#### 02:24 ~ URLs

URL routes = endpoints in API-Land.

> fineyedesign/urls.py

```python
urlpatterns = [
  path("admin/", admin.site.urls),
  path("api/", include("sojourn.urls"))
]
```

> sojourn/urls.py

```python
urlpatterns = [
    path("", views.RepList.as_view(), name="rep-list"),
    path("<int:pk>/", views.RepDetail.as_view(), name="rep-detail"),
]
```

#### 02:29 ~ Server Chaser Race

Time to see if I can get my server to run so I can chase, race, and ultimately catch it.

If I set everything up correctly, it should work (call me...) maybe?

Not quite yet...I guess adding the id to the serializer doesn't work so well?

    ╭─ Fineyedesign » tobiasfyi » ..cts/fineyedesign »  master ● ?         19.06.11 ∫ 02:30:57
    ╰─ python manage.py runserver
    Watching for file changes with StatReloader
    Performing system checks...
    Exception in thread django-main-thread:
    Traceback (most recent call last):
    ...
    File "/Users/Tobias/workshop/Fineyedesign/08-Projects/fineyedesign/sojourn/views.py", line 4, in <module>
        from .serializers import RepSerializer
      File "/Users/Tobias/workshop/Fineyedesign/08-Projects/fineyedesign/sojourn/serializers.py", line 9
        id =
            ^
    SyntaxError: invalid syntax

First, I'll just try removing the `id` field from the serializer. I don't really have any reason to include it...yet.

Oh...durrrrdy flurrrpittyt floppittty doop! I forgot I had started to write in the ReadOnly line and forgot to remove it after figuring out I could add the id to the fields definition itself.

Ayyyyeeeee SUCC-YESS! Well...the server is running. I still have to catch it, maybe racing it on the way.

Didn't quite catch it this time. I figured something like this would happen. It has to do with the way I'm looking up the url or primary key...

    File "/Users/Tobias/.vega/Fineyedesign/lib/python3.7/site-packages/rest_framework/relations.py", line 415, in to_representation
        raise ImproperlyConfigured(msg % self.view_name)
    django.core.exceptions.ImproperlyConfigured: Could not resolve URL for hyperlinked relationship using view name "user-detail". You may have failed to include the related model in your API, or incorrectly configured the `lookup_field` attribute on this field.

I think the answer lies in [this section somewhere](https://www.django-rest-framework.org/tutorial/5-relationships-and-hyperlinked-apis/#making-sure-our-url-patterns-are-named)...

If we're going to have a hyperlinked API, we need to make sure we name our URL patterns. Let's take a look at which URL patterns we need to name.

- The root of our API refers to 'user-list' and 'snippet-list'.
- Our snippet serializer includes a field that refers to 'snippet-highlight'.
- Our user serializer includes a field that refers to 'snippet-detail'.
- Our snippet and user serializers include 'url' fields that by default will refer to '{model_name}-detail', which in this case will be 'snippet-detail' and 'user-detail'.

I'll figure the Hyperlinked thing out later. I'm going to give it a go with the straight up serializer.

...and boom! No more JSON Laundry!

I got me a lil' somethin nice—JSON data!

```json
{
    "id": 5,
    "title": "Panoptic",
    "author": 1,
    "body": "Panoptic views are hard to achieve, especially in Django applications. When things are constantly being split up into microservers and macroturners, things can seem very narrow indeed.\r\n\r\nIn deed and in force of will, I declare that a Panoptic application has been created. As such, it will change the world—how the world sees the world and its (non)human (in)habitants.\r\n\r\nI should create a list of literary devices and assign one to each piece.\r\n\r\nOne example of a literary device, of which I found an entire list at literarydevices.net, is 'Aphorism'. Aphorism is a statement of truth or opinion which is expressed in a concise and witty manner.\r\n\r\nNot sure how good I'd be at implementing such a device, but that's what these challenges are for: constant improvement.\r\n\r\nIn fact, I'm going to add a literary device field into the Django Model. I shall call it ''device'.\r\n\r\n...actually, in true fluuurpity shlippity pirtipy puuurrrr fashion, I'm going shall have called it a 'lit_dev'. Ain't that something clever?\r\n\r\nWith LITness,\r\nTobias FYI",
    "motif": "Brainstorm, Flippitty Floopity Flü, LIT_DEV, literary devices",
    "lit_dev": "Hyperbaton",
    "created": "2019-06-11T00:17:11.376530-06:00",
    "updated": "2019-06-11T00:21:56.734826-06:00"
}
```

---

### 02:45 ~ Calling It Gerdoying

Gerdoying: imitation sound of a crash.

Tried out the detail as well, and it works just FYIIIIIne! Saved the RepList / Screenshotted it, for posterity (just FYI...).

Schwing!

Gerdoying!

Time for this guy to wind it down and such.

Beunos Gerdoying, Amigas!
